services:
  whalekeeper:
    build: .
    container_name: whalekeeper
    restart: unless-stopped
    ports:
      - "5454:5454"
    volumes:
      # Mount Docker socket to manage containers
      - /var/run/docker.sock:/var/run/docker.sock
      # Persist configuration
      - ./config:/app/config
      # Persist database
      - ./data:/app/data
      # Live reload for templates and static files
      - ./app/web/templates:/app/app/web/templates
      - ./app/web/static:/app/app/web/static
      # Live reload for version file
      # Live reload for version file
      - ./VERSION:/app/VERSION
    environment:
      - TZ=Europe/Brussels
    labels:
      - "autoupdate=false"  # Don't update ourselves!
